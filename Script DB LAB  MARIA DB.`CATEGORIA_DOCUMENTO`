   CREATE TABLE `CATEGORIA_DOCUMENTO` 
   (	`ID_CATEGORIA_DOCUMENTO` BIGINT NOT NULL, 
	`CATEGORIA_DOCUMENTO` VARCHAR(20) NOT NULL, 
	`DESCRIZIONE_CATEGORIA_DOC` VARCHAR(900), 
	 CONSTRAINT `CATEGORIA_SPEDIZIONE_PK` PRIMARY KEY (`ID_CATEGORIA_DOCUMENTO`)
  10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT),
	 CHECK (`ID_CATEGORIA_DOCUMENTO`>0) ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  ;

create table account (
id_account int,
NOME varchar(30),
cognome varchar(30),
denominazione varchar(50),
Codice_fiscale varchar(16),
P_iva varchar(11),
constraint id_acc_pk primary key (id_account));


CREATE TABLE "PROTOCOLLO_POSTA" 
   (  "ID_PROTOCOLLO_POSTA" BIGINT NOT NULL, 
  "ENTRATA_USCITA" VARCHAR(1) NOT NULL, 
  "NUMERO_PROTOCOLLO_POSTA" BIGINT NOT NULL, 
  "DATA_PROTOCOLLO_POSTA" DATETIME NOT NULL, 
  "OGGETTO" VARCHAR(100), 
  "NOTE" VARCHAR(100), 
  "ID_CATEGORIA_DOCUMENTO" BIGINT NOT NULL, 
  "ID_TIPO_SPEDIZIONE" BIGINT NOT NULL, 
  "ID_ACCOUNT" BIGINT, 
  "NOME" VARCHAR(20), 
  "COGNOME" VARCHAR(30), 
  "DENOMINAZIONE" VARCHAR(70), 
  "RECAPITI" VARCHAR(30), 
  "USERNAME" VARCHAR(30), 
  "ULTIMA_MODIFICA" DATETIME2 (9), 
  "ANNO_ESERCIZIO" SMALLINT, 
   CONSTRAINT "PROTOCOLLO_POSTA_PK" PRIMARY KEY ("ID_PROTOCOLLO_POSTA")
  10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) 
   CHECK (ID_ACCOUNT > 0) ENABLE, 
   CHECK (ID_TIPO_SPEDIZIONE > 0) ENABLE, 
   CHECK ("ID_CATEGORIA_DOCUMENTO">0) ENABLE, 
   CHECK (ID_PROTOCOLLO_POSTA > 0) ENABLE, 
   CONSTRAINT "ANNO_ESERCIZIO_PROTP_FK" FOREIGN KEY ("ANNO_ESERCIZIO")
    REFERENCES "ESERCIZI" ("ANNO_ESERCIZIO") ENABLE, 
   CONSTRAINT "PROTOCOLLO_POSTA_ACC_FK" FOREIGN KEY ("ID_ACCOUNT")
    REFERENCES "ACCOUNT" ("ID_ACCOUNT") ENABLE, 
   CONSTRAINT "PROTOCOLLO_POSTA_CAT_FK" FOREIGN KEY ("ID_CATEGORIA_DOCUMENTO")
    REFERENCES "CATEGORIA_DOCUMENTO" ("ID_CATEGORIA_DOCUMENTO") ENABLE, 
   CONSTRAINT "PROTOCOLLO_POSTA_SPEDIZIONE_FK" FOREIGN KEY ("ID_TIPO_SPEDIZIONE")
    REFERENCES "TIPO_SPEDIZIONE" ("ID_TIPO_SPEDIZIONE") ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
   ;




   CREATE TABLE `SISTHEMA`.`TIPO_SPEDIZIONE` 
   (  `ID_TIPO_SPEDIZIONE` BIGINT NOT NULL, 
  `TIPO_SPEDIZIONE` VARCHAR(20) NOT NULL, 
  `DESCRIZIONE_TIPO_SPEDIZIONE` VARCHAR(900), 
   CONSTRAINT `TIPO_SPEDIZIONE_PK` PRIMARY KEY (`ID_TIPO_SPEDIZIONE`)
  10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) 
   CHECK (ID_TIPO_SPEDIZIONE > 0) ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);



  CREATE TRIGGER trig_categoria_documento BEFORE INSERT ON categoria_documento
  FOR EACH ROW 
  SET NEW.id_categoria_documento = (SELECT MAX(id_categoria_documento) + 1 FROM categoria_documento);

  CREATE TRIGGER trig_tipo_spedizione BEFORE INSERT ON tipo_spedizione;
  FOR EACH ROW 
  SET NEW.id_tipo_spedizione = (SELECT MAX(id_tipo_spedizione) + 1 FROM tipo_spedizione);

 CREATE TRIGGER trig_protocollo BEFORE INSERT ON protocollo_posta
 FOR EACH ROW 
 SET NEW.id_protocollo_posta = (SELECT MAX(id_protocollo_posta) + 1 FROM protocollo_posta)


CREATE TRIGGER trig_account BEFORE INSERT ON account
  FOR EACH ROW 
    SET NEW.id_account = (SELECT MAX(id_account) + 1 FROM account)


    


